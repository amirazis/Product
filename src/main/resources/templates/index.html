<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
<meta charset="ISO-8859-1">
<title>PRODUCTS</title>
	<link rel="stylesheet" type="text/css" href="/css/product.css"/>
</head>
<body>
	<div>
		<h1>PRODUCTS</h1>
	</div>
	<div>
	    <form class="form-book-main" method="post" action="index.html" th:action="@{|/api/products|}" th:object="${index}">  
			<div>
				<a th:href="@{addEditProduct}">Create New Product</a>
			</div>
	<hr>
			<div>
			<table id="productTable">
<!-- 				<colgroup><col><col><col></colgroup> -->
<!-- 			  	<thead> -->
			    	<tr>
			      		<th>ID</th>
					    <th>Code</th>
					    <th style="width:250px">Name</th>
			      		<th>Brand</th>
			      		<th>Type</th>
					    <th style="width:250px">Description</th>
					    <th>Action</th>
			   		</tr>
<!-- 			  	</thead> -->
<!-- 			  	<tbody> -->
<!-- 				    <tr th:each="p : ${products}"> -->
<!-- 				    	<td th:text="${p.id}" name="id">&nbsp;</td> -->
<!-- 				      	<td th:text="${p.code}">&nbsp;</td> -->
<!-- 				      	<td th:text="${p.name}">&nbsp;</td> -->
<!-- 				      	<td th:text="${p.brand}">&nbsp;</td> -->
<!-- 				      	<td th:text="${p.type}">&nbsp;</td> -->
<!-- 				      	<td th:text="${p.description}">&nbsp;</td> -->
<!-- 				      	<td> -->
<!--  				      		<a th:href="@{/api/products/{code}(code=${product.code})}">Update</a> -->
<!-- 				      		<a th:href="@{api/book/delete/{id}(id=${book.id})}" class="deleteBtn" onclick="return confirm('Delete this record?')"> -->
<!--				      		<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg></a> -->

<!-- 				      	</td> -->
<!-- 				    </tr> -->
<!-- 				</tbody> -->
			</table>
			</div>
			<br>
	    </form>
	</div>
<!-- 	<div class="productTable"> -->
<!-- 	</div> -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	<script type="text/javascript" th:src="@{/js/product.js}"></script>
	<script>
		$(document).ready(function(){
		    $.getJSON('/api/products', function ( data ) {
				var product_data = '';
		        $.each( data , function( key, value ){
		        	product_data += '<tr>';
		        	product_data += '<td>'+value.id+'</td>';
		        	product_data += '<td>'+value.code+'</td>';
		        	product_data += '<td>'+value.name+'</td>';
		        	product_data += '<td>'+value.brand+'</td>';
		        	product_data += '<td>'+value.type+'</td>';
		        	product_data += '<td>'+value.description+'</td>';
		        	product_data += '<td><a /*th:href="@{/api/products/{*/'+value.code+'*/}(code=*/'+value.code+'/*)}*/">Update</a></td>';
		        	product_data += '</tr>';
		        });
		        $('#productTable').append(product_data);
		    });
		});
	</script>
</body>
</html>